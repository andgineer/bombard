supply:  # you can redefine it from command line (--supply)
  host: localhost
  base: "https://{host}/api/"
prepare:  # Initial requests. Usually this is setup/authorization.
  getToken:
    url: "{base}auth"
    method: POST  # default GET
    headers: json  # means Content-Type: application/json
    body:
      email: Andrei_Sorokin2@epam.com
      password: admin
    script: !include examples/get_token.py  # in this script we get auth token and schedule next requests
ammo:
  usersList:
    repeat: 2  # how many requests of this type in each repeat session (see --repeat)
    url: "{base}users"
    headers: &auth_headers
      json:
      Authorization: "Bearer {token}"
  projectsList:
    repeat: 4
    url: "{base}projects"
    headers:
      <<: *auth_headers
    script: |  # if projects list is not empty then schedule request to get 1st project from the list
      if len(resp['data']) > 0:
        reload(ammo['getProject'], id=resp['data'][0]['id'])
  accountsList:
    url: "{base}accounts"
    headers:
      <<: *auth_headers
  getProject:
    repeat: 3
    url: "{base}projects/{id}/"
    headers:
      <<: *auth_headers

